<!DOCTYPE html>
<html>
<head>
  <title>Tvse After Party</title>
  <style type="text/css">
    * { margin: 0; padding: 0; border: 0; outline: 0; overflow: hidden; }
    body { width: 100%; height: 100%; position: relative; }
    #ytapiplayer { width: 100%; height: 100%; z-index: 999; }
    #message { display:none; width: 50%; height: 100px; position: absolute; top: 30%; left: 25%; z-index: 1000;
      text-align: center; line-height: 100px;
      background-color: rgba(255,255,255, 0.5); color: #333; font-size: 32px; }
    #message p {
      vertical-align: middle; line-height: 32px;
    }
  </style>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
  <script type="text/javascript" src="http://dev.tunited.tv/lib/socket.io.js"></script>
</head>
<body>
  <div style="width: 100%; height: 100%;">
    <div id="message"><p>A new music video was requested!</p></div>
    <div id="ytapiplayer">You need Flash player 8+ and JavaScript enabled to view this video.</div>
  </div>
  <script type="text/javascript">
    var params = { allowScriptAccess: "always" };
    var atts = { id: "myytplayer" };
    swfobject.embedSWF("http://www.youtube.com/apiplayer?enablejsapi=1&version=3",
        "ytapiplayer", "100%", "100%", "8", null, null, params, atts);

    var ytplayer;
    function onYouTubePlayerReady(playerId) {
      ytplayer = document.getElementById("myytplayer");
      //ytplayer.loadVideoById("AIQOzMf31Gk")
    }
  </script>
  <script type="text/javascript">
    var socket = io.connect('http://'+document.domain+':1126/');
    socket.on('host_1111', function (data) {
      $('#message').css('display', 'block');
      ytplayer.loadVideoById(data.videoId);
      //socket.emit('my other event', { my: 'data' });
      setTimeout(function(){
        $('#message').css('display', 'none');
      }, 3000);
    });
  </script>
</body>
</html>